## 운영체제는 무엇을 하는가
운영체제란 컴퓨터의 하드웨어를 관리하는 소프트웨어
컴퓨터 하드웨어와 유저, 소프트웨어간의 연결성을 제공해줌

---
컴퓨터의 4요소

- 하드웨어
- 소프트웨어
- 운영체제
- 유저

보편적으로 통용되는 운영체제의 정의는 없다.
일반적인 정의란, 컴퓨터에서 항상 가동되는 커널이라 불리는 프로그램
현대 컴퓨터 시스템을 구성하는 것은:

- CPU
- disk controller(storage와 연결)
- USB controller(마우스, 키보드, 프린터 등)
- graphics adapter(I/O 디바이스와 연결)
- RAM

---
부트스트랩 프로그램
컴퓨터는 ROM에 있는 명령어를 fetch하여 부팅.
ROM에 저장되어 부팅시 사용되는 프로그램을 부트스트랩이라고 함
운영체제를 메모리에 로딩함

---
Interrupts
키보드 등의 I/O 디바이스를 통해 입력시 Interrupt를 통해 신호를 전달
하드웨어는 interrupt를 언제든 시작시킬 수 있음. 이는 CPU에 시스템 버스를 통해
신호를 보내는 것으로 가능함

---
폰 노이만 아키텍쳐

- 전형적인 명령어수행 사이클
메모리로부터 명령어를 fetch함
그리고 명령어 레지스터에 명령어를 저장함

- 명령어가 해석됨
메모리로부터 피연산자를 fetch하게 될 수 있음
그리고 그걸 내부 레지스터에 저장하게 될 수 있음
- 피연산자의 명령어가 수행되고
결과값은 메모리에 다시 저장되기도 함

---
다양한 저장공간 시스템은 아래의 위계구조와 같이 구성될 수 있음;

- 용량에 따라,
- 접근속도에 따라,

레지스터,
캐시 메모리,
메인 메모리(RAM),
SSD,
HDD,
광학디스크,
자기테이프(장기간 대량 저장에 경제적임)

---
I/O Structure

실행, aka Thread of Execution은 cpu가 캐시메모리를 통해 ram에 액세스하고
I/O 디바이스와 요청과 interrupt, data를 주고받는걸 말함
OS 코드의 큰 부분은 I/O 관리에 할애됨

---
Symmetric Multiprocessing(SMP)

가장 일반적인 멀티프로세서 시스템.
CPU칩 내에 여러개의 코어를 가지는 멀티코어 방식이 잦음

###Multiprogramming이란,
과거 OS가 프로그램을 하나씩 실행하고 종료하는 방식이었음
그와 다르게 메모리에 한번에 프로그램을 여러개 올리는 것을 멀티프로그래밍이라고 함
CPU활용 효율을 높일 수 있음.
CPU가 테스킹 하나 수행시 중간중간 자원활용 공백이 생겨서 그 때 테스킹을 바꿔가며
여러개를 바꿔가며 수행
이로 멀티테스킹이 가능
CPU가 업무를 바꾸는 빈도가 아주 높아 유저는 각각의 수행을 동시적 수행으로 perceive 가능. 
그것을 위해서 CPU 스케줄링 필요.
복수의 프로세서가 돌아갈 준비가 되어있을 때 시스템은 어떤 프로세서가 다음에 돌아야할지를 결정해야함

---
운영의 두가지 분리된 모드

- 유저 모드
- 커널 모드

잘못된 포로그램이 다른 프로그램을 잘못되게 실행하지 않도록함

--
### 가상화
기술이 발달하여 여러개의 다양한 수행환경으로 하드웨어를 추상화할 수 있어짐
단수의 하드웨어로 여러개의 OS를 구동할 수 있어진 것.
VMM: Virtual Machine Manager.
ex)VMware, XEM, WSL 등등
단수의 하드웨어에 VMM을 올리고 복수의 VM을 올린 후 여러 OS를 실행

---

전통적인 컴퓨팅을 넘어 모바일컴퓨팅(IOS, Android) 환경의 비중이 커짐
서버-클라이언트 컴퓨팅, Peer-to-Peer(p2p) 컴퓨팅 환경 -> 더 나아가 Blockchain컴퓨팅, 클라우드 컴퓨팅(자체 서버를 가지기보단 클라우드 플랫폼 서비스를 사용), 리얼타임 임베디드 시스템

--

서버, 가상머신, 저장소, 클라우스 관리 서비스 등이 조합되어 인터넷을 통해 제공되는 것이 클라우드 컴퓨팅

--

운영체제는 프로그램의 수행을 위한 환경을 제공함

- 유저 인터페이스
- 프로그램 수행
- 입출력 오퍼레이션
- 파일시스템 조작
- 커뮤니케이션
- 오류 검출
- 자원 할당
- 로깅(?)
- 보호/보안

--
OS와 유저가 상호작용하기 위한 주요 방법들,

- CLI: command line interface. shells로도 알려짐. sh, bash, zsh 등
- GUI: graphic user interface. Windows, Mac OS 등
- Touch-Screen Interface. Android UI, iPhone UI 등

시스템 콜을 통해 상호작용됨. 
API: Application Programming Interface

--

명령어를 일일히 작성하기 어렵기에 standard c library와 같은 라이브러리에 있는 명령어를 사용함

